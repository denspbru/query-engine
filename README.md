# Query Engine (Apache Arrow + Calcite)

–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π in-memory OLAP-–¥–≤–∏–∂–æ–∫, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Apache Arrow** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ **Apache Calcite** –¥–ª—è SQL-–ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

> ‚ö°Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é (`WHERE`) –∏ –ø—Ä–æ–µ–∫—Ü–∏—é (`SELECT col1, col2`) –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ.

---

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **Apache Calcite**: SQL-–ø–∞—Ä—Å–∏–Ω–≥, –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (`RelNode`)
- **–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π Physical Planner**: –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç `RelNode` –≤ –¥–µ—Ä–µ–≤–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ (`PhysicalOperator`)
- **Apache Arrow**: —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ in-memory —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–ª–æ–Ω–∫–∞—Ö

---

## üì¶ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

```sql
SELECT region, sales FROM arrow_table WHERE region = 'EU'
